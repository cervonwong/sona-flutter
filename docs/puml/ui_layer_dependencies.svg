<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="573px" preserveAspectRatio="none" style="width:1018px;height:573px;background:#FFFFFF;" version="1.1" viewBox="0 0 1018 573" width="1018px" zoomAndPan="magnify"><defs/><g><text fill="#888888" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="690" x="315.5" y="16.0859">This diagram is part of a visualisation of the code written for Sona.</text><text fill="#888888" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="550" x="455.5" y="36.9766">View the project at github.com/cervonwong/sona-flutter.</text><text fill="#000000" font-family="monospace" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="588" x="208.75" y="65.9102">Dependencies between UI layers of the app.</text><text fill="#000000" font-family="monospace" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="0" x="509.75" y="97.2461"/><rect fill="#FEFECE" height="40.8906" style="stroke:#A80036;stroke-width:1.5;" width="84" x="353.5" y="251.7578"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="70" x="360.5" y="269.8438">Screens</text><line style="stroke:#A80036;stroke-width:1.5;" x1="354.5" x2="436.5" y1="276.6484" y2="276.6484"/><rect fill="#FEFECE" height="40.8906" style="stroke:#A80036;stroke-width:1.5;" width="154" x="41.5" y="495.2578"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="140" x="48.5" y="513.3438">Shared widgets</text><line style="stroke:#A80036;stroke-width:1.5;" x1="42.5" x2="194.5" y1="520.1484" y2="520.1484"/><rect fill="#FEFECE" height="40.8906" style="stroke:#A80036;stroke-width:1.5;" width="174" x="656.5" y="495.2578"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="160" x="663.5" y="513.3438">Screen arguments</text><line style="stroke:#A80036;stroke-width:1.5;" x1="657.5" x2="829.5" y1="520.1484" y2="520.1484"/><rect fill="#FEFECE" height="53.7813" style="stroke:#A80036;stroke-width:1.5;" width="182" x="304.5" y="488.7578"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="150" x="320.5" y="506.8438">Feature widgets</text><line style="stroke:#A80036;stroke-width:1.5;" x1="305.5" x2="485.5" y1="513.6484" y2="513.6484"/><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="170" x="310.5" y="533.7344">Panes, bars, etc.</text><rect fill="#FEFECE" height="53.7813" style="stroke:#A80036;stroke-width:1.5;" width="176" x="536.5" y="111.7578"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="90" x="579.5" y="129.8438">main.dart</text><line style="stroke:#A80036;stroke-width:1.5;" x1="537.5" x2="711.5" y1="136.6484" y2="136.6484"/><ellipse cx="547.5" cy="147.6484" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="150" x="556.5" y="156.7344">Not in UI layer</text><!--MD5=[090ba2f251281b22956e5ee077e1e712]
link screens to screens--><path codeLine="26" d="M437.87,259.6878 C456.48,258.5678 472.5,262.7578 472.5,272.2578 C472.5,280.8678 459.35,285.1178 443.02,285.0078 " fill="none" id="screens-to-screens" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="437.87,284.8278,446.7277,289.1339,442.8671,284.9991,447.0018,281.1386,437.87,284.8278" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="175" x="478.5" y="260.8223">Screens navigate to otehr</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="168" x="482" y="276.4902">screens, often requiring</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="147" x="496" y="292.1582">cyclical dependencies</text><!--MD5=[7532abe65f9e4109fcce109291318f27]
link screens to widgets--><path codeLine="27" d="M394.23,293.0178 C393.57,304.3478 392.83,318.8478 392.5,331.7578 C391.05,388.1878 390.99,402.3378 392.5,458.7578 C392.71,466.6678 393.09,475.1978 393.51,483.1578 " fill="none" id="screens-to-widgets" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="393.81,488.5578,397.3148,479.3537,393.5382,483.5652,389.3267,479.7886,393.81,488.5578" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="189" x="393.5" y="376.3223">Screens orchestrate feature</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="175" x="400.5" y="391.9902">widgets. Usually, screens</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="168" x="404" y="407.6582">put feature widgets in a</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="63" x="460" y="423.3262">Scaffold.</text><!--MD5=[91151e8b40bd6778405e5a73b53528b7]
link screens to args--><path codeLine="28" d="M437.62,274.2078 C482.53,277.5178 552.82,289.6678 594.5,331.7578 C635.78,373.4478 593,413.6378 630.5,458.7578 C642.65,473.3778 659.56,484.5278 676.6,492.8678 " fill="none" id="screens-to-args" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="681.41,495.1478,674.9948,487.6748,676.8931,493.0037,671.5642,494.902,681.41,495.1478" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="196" x="631.5" y="344.8223">Screens handle pushing logic</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="154" x="649" y="360.4902">by calling Navigator's</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="182" x="635" y="376.1582">pushNamed with these args.</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="161" x="645.5" y="391.8262">(Feature widgets invert</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="168" x="642" y="407.4941">control of navigation to</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="189" x="631.5" y="423.1621">screens, so feature widgets</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="161" x="645.5" y="438.8301">do not depend on screen</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="168" x="645.5" y="454.498">arguments or Navigator!)</text><!--MD5=[9a54f843df03829609ee7b991b1b4dfe]
link shared to screens--><path codeLine="30" d="M78.07,495.0678 C64.17,486.0678 50.19,473.9678 42.5,458.7578 C17.04,408.3778 6,374.8078 42.5,331.7578 C81.15,286.1778 261.13,276.0678 348.14,273.8578 " fill="none" id="shared-to-screens" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="353.23,273.7278,344.1409,269.9345,348.2313,273.8421,344.3238,277.9324,353.23,273.7278" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="133" x="43.5" y="399.8223">??TO BE FINALIZED??</text><!--MD5=[f99a752458698e55c6209fc1670c8414]
link screens to shared--><path codeLine="31" d="M353.27,281.4978 C321.08,289.6178 277.35,304.8278 247.5,331.7578 C200.27,374.3678 220.59,408.5678 181.5,458.7578 C172.13,470.7878 159.95,482.3078 148.8,491.7278 " fill="none" id="screens-to-shared" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="144.75,495.1078,154.2257,492.4225,148.5923,491.9083,149.1065,486.2749,144.75,495.1078" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="133" x="248.5" y="399.8223">??TO BE FINALIZED??</text><!--MD5=[140b65d17f53195dc22ce8697619c938]
link main to screens--><path codeLine="33" d="M578.98,165.8978 C536.74,190.1478 474.53,225.8778 434.52,248.8578 " fill="none" id="main-to-screens" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="429.75,251.5878,439.5441,250.5504,434.0797,249.0871,435.543,243.6228,429.75,251.5878" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="112" x="524.5" y="208.8223">generates routes</text><!--MD5=[1c5e8098e14ca783ccd1bb2194fd7ef1]
link main to args--><path codeLine="34" d="M670.5,165.9778 C721.1,197.7778 799.58,256.5778 832.5,331.7578 C855.14,383.4678 859.79,409.3478 832.5,458.7578 C824.58,473.0978 811.28,484.2578 797.35,492.7178 " fill="none" id="main-to-args" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="793.01,495.2578,802.7988,494.1721,797.3273,492.7358,798.7636,487.2643,793.01,495.2578" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="196" x="814.5" y="268.8223">extracts fields from args to</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="105" x="860" y="284.4902">pass to screens</text><text fill="#888888" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="360" x="322.75" y="564.625">Copyright (C) 2020, 2021 Cervon Wong</text><!--MD5=[5564ef45f985ee873d2a7395c2d2d521]
@startuml

skinparam wrapWidth 200
skinparam maxMessageSize 200
skinparam defaultFontName Monospaced
skinparam defaultFontSize 16
skinparam arrowFontSize 12
skinparam objectFontStyle bold
skinparam titleFontSize 24
skinparam titleFontStyle bold
skinparam shadowing false

header This diagram is part of a visualisation of the code written for Sona.\n View the project at github.com/cervonwong/sona-flutter.
title Dependencies between UI layers of the app.\n
footer Copyright (C) 2020, 2021 Cervon Wong

object "Screens"          as screens
object "Shared widgets"   as shared
object "Screen arguments" as args
object "Feature widgets"  as widgets {
	Panes, bars, etc.
}
object "main.dart" as main {
	*Not in UI layer
}

screens ..> screens : Screens navigate to otehr screens, often requiring cyclical dependencies
screens ..> widgets : Screens orchestrate feature widgets. Usually, screens put feature widgets in a Scaffold.
screens ..> args    : Screens handle pushing logic by calling Navigator's pushNamed with these args. (Feature widgets invert control of navigation to screens, so feature widgets do not depend on screen arguments or Navigator!)

shared ..> screens  : ??TO BE FINALIZED??
screens ..> shared  : ??TO BE FINALIZED??

main ..> screens    : generates routes
main ..> args       : extracts fields from args to pass to screens

@enduml

PlantUML version 1.2021.7(Sun May 23 20:40:07 SGT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>