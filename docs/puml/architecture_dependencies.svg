<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1792px" preserveAspectRatio="none" style="width:1554px;height:1792px;background:#FFFFFF;" version="1.1" viewBox="0 0 1554 1792" width="1554px" zoomAndPan="magnify"><defs/><g><text fill="#888888" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="690" x="851" y="16.0859">This diagram is part of a visualisation of the code written for Sona.</text><text fill="#888888" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="550" x="991" y="36.9766">View the project at github.com/cervonwong/sona-flutter.</text><text fill="#000000" font-family="monospace" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="546" x="497.5" y="65.9102">Dependencies between layers of the app.</text><text fill="#000000" font-family="monospace" font-size="24" font-weight="bold" lengthAdjust="spacing" textLength="0" x="777.5" y="97.2461"/><!--MD5=[e3bd33a92827c21193f8eb915c8968a3]
cluster Features--><polygon fill="#FFFFFF" points="304,161.4531,314,151.4531,1218,151.4531,1218,1751.4531,1208,1761.4531,304,1761.4531,304,161.4531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1208" x2="1218" y1="161.4531" y2="151.4531"/><line style="stroke:#000000;stroke-width:1.5;" x1="304" x2="1208" y1="161.4531" y2="161.4531"/><line style="stroke:#000000;stroke-width:1.5;" x1="1208" x2="1208" y1="161.4531" y2="1761.4531"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="80" x="717" y="180.5391">Features</text><!--MD5=[8fd473fd151a2794da4f2c8684676405]
cluster Presentation--><path d="M964.275,228.2881 C972.197,211.4745 989.5765,209.3616 1001.1003,224.0821 C1008.4996,209.8649 1023.0248,205.1348 1033.685,220.4888 C1045.0887,201.5519 1059.2491,206.6815 1069.466,221.738 C1080.4128,206.1506 1092.1792,207.8847 1102.0521,222.8822 C1113.1468,208.0947 1128.7137,207.9785 1136.5795,226.2541 C1150.2185,205.2637 1169.4771,211.6836 1178,231.4531 C1180.3657,232.4915 1181.3469,234.2452 1179.1655,236.3629 C1191.3301,244.0831 1193.3399,253.88 1180.2531,262.6452 C1191.509,268.9674 1193.8935,281.3392 1181.5419,288.8237 C1195.6953,298.6563 1195.4644,311.083 1180.7275,320.165 C1194.429,327.3896 1192.8065,339.354 1181.7555,347.5091 C1198.2579,357.1129 1197.3403,367.8087 1183.025,378.668 C1195.0122,386.2366 1196.2908,395.1599 1184.2455,403.8914 C1198.4473,414.1606 1196.3,425.0747 1183.248,434.4545 C1195.8666,445.0237 1194.641,455.7708 1181.3921,464.7557 C1193.5672,473.7286 1196.5387,482.7364 1182.8949,493.0792 C1195.5379,498.8614 1196.6889,511.3725 1184.2739,518.5133 C1197.001,529.1058 1195.089,541.2964 1181.7484,549.7836 C1193.1985,559.19 1194.3496,567.0159 1180.4089,575.0777 C1195.4529,586.3049 1195.5102,597.3233 1179.0522,607.2208 C1188.9665,621.1769 1188.8329,631.6506 1171,638.4531 C1174.8629,637.4366 1176.4237,639.5246 1176.0677,643.1045 C1165.3021,661.2494 1151.5417,657.8051 1140.3833,643.5369 C1131.9905,661.1482 1113.9971,660.135 1103.5801,645.8742 C1095.1015,664.4707 1081.9567,669.1664 1067.2367,652.2642 C1053.9648,665.1357 1042.352,663.0746 1036.3794,644.9886 C1023.1702,664.7647 1008.1674,658.8618 998.4187,641.4556 C980.3749,655.9848 964.729,656.4264 956,631.4531 C957.2503,631.5883 957.7533,632.5995 956.8736,633.6011 C942.1256,622.843 944.0941,611.5449 959.8741,603.8675 C948.0771,596.4034 947.3509,585.8985 959.2835,577.8948 C944.3783,568.094 942.3189,556.832 959.0457,546.7893 C944.9892,537.5282 944.5865,528.7953 957.1938,517.8292 C946.8336,512.0879 945.7934,500.2148 956.4455,493.8187 C942.9502,486.8005 939.3537,471.592 954.06,462.4305 C939.042,452.4894 943.4371,441.6017 956.2657,433.8063 C942.7172,425.6307 943.3938,415.8495 955.9755,407.3868 C941.4559,396.8869 937.6866,386.0635 955.2463,374.8448 C943.2939,368.5861 943.998,358.0634 954.4202,351.0287 C940.8873,340.1008 942.1346,330.3551 957.0624,322.0195 C943.9579,312.4797 943.8941,302.3847 956.2117,292.1215 C942.5686,282.3557 946.7451,270.537 959.2922,263.5998 C939.8383,249.3152 940.5704,234.7708 963,224.4531 C965.0538,225.0128 965.9671,226.4831 964.275,228.2881 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="120" x="1007" y="245.5391">Presentation</text><!--MD5=[121a8bf1197281ab89ed693fab589f94]
cluster Domain--><path d="M921.9372,832.5794 C936.489,807.89 953.8615,812.0684 970.0141,830.8073 C987.074,806.3032 1008.3641,805.3508 1027.0703,828.8505 C1041.7341,803.7779 1062.2856,810.4611 1075.3291,830.5808 C1093.367,806.7425 1114.5987,809.1681 1128,835.4531 C1132.201,835.2214 1134.8959,837.6207 1133.1086,842.0361 C1153.6113,855.7353 1151.6914,873.9411 1132.9912,887.5391 C1156.3844,901.9807 1159.1926,918.6677 1135.7632,935.7987 C1153.8778,952.8454 1153.5333,970.0254 1129.3574,981.0908 C1149.9097,994.7897 1151.033,1010.9053 1132.2605,1027.0863 C1155.1559,1037.2453 1154.6167,1052.3873 1136.5812,1066.9793 C1156.9139,1082.09 1158.0815,1101.8053 1133.9345,1114.4353 C1159.5046,1127.1379 1157.2697,1150.0649 1137.5564,1165.9512 C1155.3816,1181.2702 1159.3193,1194.0549 1136.0096,1207.8556 C1157.2275,1223.5039 1153.0391,1244.8427 1130.5643,1255.497 C1151.4252,1270.1906 1152.868,1289.8922 1129.7523,1303.8472 C1149.8255,1317.1969 1153.6997,1330.1642 1131.8923,1345.6575 C1159.1971,1360.7119 1154.9614,1379.795 1132.559,1395.514 C1153.9829,1411.0095 1157.8125,1427.0108 1132.3187,1442.2651 C1147.1017,1461.9958 1146.6207,1478.6236 1121,1488.4531 C1123.5652,1489.181 1124.2573,1490.6104 1122.4397,1492.7923 C1111.3127,1512.3243 1093.8061,1514.8678 1078.4075,1497.9531 C1062.7417,1517.8549 1041.4531,1523.1154 1027.5578,1496.0368 C1010.6874,1524.1659 989.8283,1523.4349 971.6029,1497.4376 C948.5229,1521.6313 918.1019,1517.8381 911,1481.4531 C916.0502,1481.8528 917.1,1485.8512 914.6284,1489.6007 C887.3135,1474.9359 895.6716,1449.4501 917.6317,1437.6329 C894.1723,1426.4892 895.0934,1407.8239 916.1956,1395.1731 C893.1052,1383.2808 884.4112,1362.8944 907.9855,1343.5767 C888.2078,1326.6037 887.312,1310.8189 912.8637,1298.7823 C891.1763,1286.3803 888.442,1272.3735 907.2669,1254.8145 C886.5525,1237.8801 884.7445,1222.7168 909.0184,1207.4458 C883.7417,1198.5367 884.3352,1177.0541 900.7712,1160.7741 C883.2928,1144.965 885.9891,1127.4847 909.0204,1119.839 C883.8029,1108.7362 883.6032,1086.543 903.7433,1070.5809 C883.1011,1052.9824 892.3322,1036.3709 913.0418,1027.7499 C892.8345,1013.0248 887.3903,999.5981 910.1377,982.138 C884.3378,969.6197 886.9882,949.0541 908.9312,935.3058 C888.6274,918.4551 889.083,900.3536 913.4738,887.7744 C889.2696,867.5192 890.7784,844.7846 918,828.4531 C921.5219,827.6303 922.933,829.0914 921.9372,832.5794 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="60" x="989.5" y="849.5391">Domain</text><!--MD5=[f21b1f164e99c6b37934f23ad048ad54]
cluster Data--><path d="M360.3902,818.8639 C375.3086,796.1049 398.8121,791.5706 413.2985,819.3165 C429.802,798.0727 444.7602,795.5443 461.9724,818.5367 C476.1927,793.9875 490.1529,790.5733 509.0964,813.8864 C525.9861,791.9649 544.3723,787.4838 562.4112,812.5833 C578.5705,793.5762 596.9222,790.7386 608.9049,816.884 C624.6748,792.9902 640.7394,792.8607 656.7513,816.6411 C670.0285,792.655 687.8146,791.798 702.9749,814.7882 C716.6872,792.3669 738.6837,789.0252 755.0698,811.6995 C771.5827,787.097 793.7777,792.1203 807.9552,814.3375 C825.1081,790.2598 842.3153,791.4567 855,818.4531 C859.3552,815.7739 862.3086,818.5524 862.1091,822.9979 C883.8724,841.3851 880.6222,858.8963 858.3107,874.0012 C881.5819,885.5424 885.9029,902.1708 863.863,919.2695 C886.5867,934.6801 882.2257,951.9024 862.8908,966.4463 C881.8698,982.7977 881.9208,1001.9263 860.0898,1015.9694 C888.1329,1031.122 884.9136,1049.1555 862.446,1066.6561 C889.5346,1078.7638 890.2591,1103.7677 864.7659,1118.2402 C882.1626,1132.9508 883.0891,1147.2405 863.2104,1160.5817 C882.3698,1176.8989 883.9798,1199.7963 857.8072,1211.2825 C878.8614,1225.7293 884.175,1244.9699 858.906,1260.4519 C881.8177,1272.5133 878.6454,1293.1069 859.2355,1305.478 C880.4532,1322.592 887.745,1340.4115 859.732,1357.9908 C885.2872,1369.0574 881.0214,1388.3238 863.378,1402.8976 C886.5945,1422.1954 887.4516,1439.5824 858.3042,1453.6447 C877.7674,1471.6528 873.9171,1496.4707 848,1505.4531 C849.5717,1503.2041 851.8736,1503.5975 853.0834,1505.8608 C843.9197,1527.5701 821.1636,1534.4814 805.9102,1512.4246 C791.2451,1533.7334 771.157,1529.9568 758.6933,1509.911 C745.3927,1537.5984 726.002,1537.3274 706.7674,1516.2267 C692.582,1543.165 675.7645,1539.3189 657.248,1520.9617 C639.9836,1543.2715 621.65,1547.3494 606.4476,1518.8981 C593.1157,1544.2349 571.2675,1544.0068 557.2454,1519.5805 C542.3944,1538.1589 518.0138,1538.1002 508.5775,1513.4801 C494.8601,1535.6701 478.4348,1538.0894 460.6234,1518.1389 C445.439,1543.2915 423.8596,1540.6996 410.4321,1516.3573 C384.0374,1538.3554 362.3304,1528.8826 352,1498.4531 C354.034,1497.9299 355.2014,1498.5549 355.015,1500.8383 C333.7401,1489.335 331.6684,1467.551 354.7439,1455.7809 C329.7247,1442.344 329.2908,1419.1452 355.5479,1406.5456 C329.0367,1392.2306 335.5187,1366.0585 357.7252,1353.7526 C336.1607,1343.8189 332.9635,1322.2994 355.3445,1309.9759 C329.8676,1294.9855 324.7343,1277.9499 349.6443,1257.4876 C330.2897,1243.7306 328.8676,1221.3775 352.293,1210.0069 C328.7814,1196.4118 323.6696,1179.7888 348.1193,1162.0221 C326.5184,1149.3439 328.8371,1126.1494 348.6002,1113.8845 C327.6498,1098.0309 327.3415,1073.5109 355.0224,1063.9064 C329.9417,1050.2436 331.2504,1028.1206 355.1962,1014.6307 C332.9325,1000.5528 330.4908,985.3277 350.8346,967.3216 C326.0541,949.4784 335.3385,929.7738 357.3728,918.1563 C331.6146,902.6147 331.6816,888.4437 355.86,871.2902 C325.2666,853.305 326.4893,826.1268 359,811.4531 C363.0416,813.1969 363.9079,815.7021 360.3902,818.8639 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="40" x="583.5" y="832.5391">Data</text><!--MD5=[2c2e2644034c00788261e03c85b06837]
cluster Core--><polygon fill="#FFFFFF" points="1258,209.4531,1268,199.4531,1537,199.4531,1537,366.4531,1527,376.4531,1258,376.4531,1258,209.4531" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1527" x2="1537" y1="209.4531" y2="199.4531"/><line style="stroke:#000000;stroke-width:1.5;" x1="1258" x2="1527" y1="209.4531" y2="209.4531"/><line style="stroke:#000000;stroke-width:1.5;" x1="1527" x2="1527" y1="209.4531" y2="376.4531"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="40" x="1373.5" y="228.5391">Core</text><path d="M455.5,1560.4531 L455.5,1737.5781 A0,0 0 0 0 455.5,1737.5781 L716.5,1737.5781 A0,0 0 0 0 716.5,1737.5781 L716.5,1570.4531 L706.5,1560.4531 L590,1560.4531 L586,1497.9031 L582,1560.4531 L455.5,1560.4531 A0,0 0 0 0 455.5,1560.4531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M706.5,1560.4531 L706.5,1570.4531 L716.5,1570.4531 L706.5,1560.4531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="180" x="461.5" y="1581.5391">Models are part of</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="190" x="461.5" y="1602.4297">the database due to</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="180" x="461.5" y="1623.3203">the limitations of</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="200" x="461.5" y="1644.2109">moor's builders. See</text><text fill="#000000" font-family="monospace" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="190" x="461.5" y="1665.1016">https://github.com/</text><text fill="#000000" font-family="monospace" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="240" x="461.5" y="1685.9922">simolus3/moor/issues/490</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="200" x="461.5" y="1706.8828">for progress on this</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="20" x="461.5" y="1727.7734">:)</text><rect fill="#FEFECE" height="74.6719" style="stroke:#A80036;stroke-width:1.5;" width="206" x="964" y="278.4531"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="70" x="1032" y="296.5391">Widgets</text><line style="stroke:#A80036;stroke-width:1.5;" x1="965" x2="1169" y1="303.3438" y2="303.3438"/><ellipse cx="975" cy="314.3438" fill="#000000" rx="3" ry="3" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="170" x="984" y="323.4297">See diagram on UI</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="180" x="984" y="344.3203">layer dependencies</text><rect fill="#FEFECE" height="74.6719" style="stroke:#A80036;stroke-width:1.5;" width="182" x="975" y="555.4531"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="160" x="986" y="573.5391">State Management</text><line style="stroke:#A80036;stroke-width:1.5;" x1="976" x2="1156" y1="580.3438" y2="580.3438"/><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="50" x="981" y="600.4297">BLoC,</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="170" x="981" y="621.3203">ChangeNotifier...</text><rect fill="#FEFECE" height="40.8906" style="stroke:#A80036;stroke-width:1.5;" width="104" x="986" y="882.4531"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="90" x="993" y="900.5391">Use Cases</text><line style="stroke:#A80036;stroke-width:1.5;" x1="987" x2="1089" y1="907.3438" y2="907.3438"/><rect fill="#FEFECE" height="40.8906" style="stroke:#A80036;stroke-width:1.5;" width="94" x="991" y="1439.4531"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="80" x="998" y="1457.5391">Entities</text><line style="stroke:#A80036;stroke-width:1.5;" x1="992" x2="1084" y1="1464.3438" y2="1464.3438"/><rect fill="#FEFECE" height="40.8906" style="stroke:#A80036;stroke-width:1.5;" width="164" x="956" y="1152.9531"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="150" x="963" y="1171.0391">Repo Interfaces</text><line style="stroke:#A80036;stroke-width:1.5;" x1="957" x2="1119" y1="1177.8438" y2="1177.8438"/><rect fill="#FEFECE" height="74.6719" style="stroke:#A80036;stroke-width:1.5;" width="202" x="645" y="865.4531"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="100" x="696" y="883.5391">Repo Impls</text><line style="stroke:#A80036;stroke-width:1.5;" x1="646" x2="846" y1="890.3438" y2="890.3438"/><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="180" x="651" y="910.4297">and Entity&lt;-&gt;Model</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="70" x="651" y="931.3203">mappers</text><rect fill="#FEFECE" height="53.7813" style="stroke:#A80036;stroke-width:1.5;" width="182" x="394" y="875.9531"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="90" x="440" y="894.0391">DAO Impls</text><line style="stroke:#A80036;stroke-width:1.5;" x1="395" x2="575" y1="900.8438" y2="900.8438"/><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="170" x="400" y="920.9297">also Data Sources</text><rect fill="#FEFECE" height="53.7813" style="stroke:#A80036;stroke-width:1.5;" width="182" x="495" y="1146.4531"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="140" x="516" y="1164.5391">DAO Interfaces</text><line style="stroke:#A80036;stroke-width:1.5;" x1="496" x2="676" y1="1171.3438" y2="1171.3438"/><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="170" x="501" y="1191.4297">also Data Sources</text><rect fill="#FEFECE" height="74.6719" style="stroke:#A80036;stroke-width:1.5;" width="182" x="495" y="1422.4531"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="130" x="521" y="1440.5391">Moor Database</text><line style="stroke:#A80036;stroke-width:1.5;" x1="496" x2="676" y1="1447.3438" y2="1447.3438"/><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="160" x="501" y="1467.4297">Configs, Tables,</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="60" x="501" y="1488.3203">Models</text><path d="M1301.5,279.4531 L1301.5,352.125 L1512.5,352.125 L1512.5,289.4531 L1502.5,279.4531 L1301.5,279.4531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1502.5,279.4531 L1502.5,289.4531 L1512.5,289.4531 L1502.5,279.4531 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="170" x="1307.5" y="300.5391">Constants, utils,</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="180" x="1307.5" y="321.4297">shared components,</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="40" x="1307.5" y="342.3203">etc.</text><rect fill="#FEFECE" height="95.5625" style="stroke:#A80036;stroke-width:1.5;" width="212" x="7" y="267.9531"/><text fill="#000000" font-family="monospace" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="150" x="38" y="286.0391">Service Locator</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="218" y1="292.8438" y2="292.8438"/><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="190" x="13" y="312.9297">Injection Container</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="140" x="13" y="333.8203">for Dependency</text><text fill="#000000" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="90" x="13" y="354.7109">Injection</text><!--MD5=[d82ef6b2c738c1c7a188aee55dc2c4f7]
link w to s--><path codeLine="60" d="M1066.87,353.4731 C1066.68,404.4231 1066.35,496.6131 1066.15,550.2231 " fill="none" id="w-to-s" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1066.13,555.2831,1070.1814,546.3061,1066.1586,550.2832,1062.1815,546.2604,1066.13,555.2831" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4546973ef7dacf83725163dac0c05358]
link w to e--><path codeLine="61" d="M1141.75,353.4531 C1168.88,372.2931 1193,398.3531 1193,431.4531 C1193,431.4531 1193,431.4531 1193,1361.4531 C1193,1411.1431 1135.22,1436.5031 1090.21,1448.7131 " fill="none" id="w-to-e" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1085.35,1450.0031,1095.0719,1451.5796,1090.1852,1448.73,1093.0348,1443.8433,1085.35,1450.0031" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f7ac959458b02596d8dec769f76e38c2]
link s to u--><path codeLine="62" d="M1062.68,630.4931 C1056.9,694.0931 1045.13,823.4931 1040.23,877.4631 " fill="none" id="s-to-u" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1039.77,882.4431,1044.5751,873.846,1040.2265,877.464,1036.6085,873.1155,1039.77,882.4431" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fcf18d6011f98154ac9c493f12e89716]
link s to e--><path codeLine="63" d="M1121.97,630.5031 C1140.28,647.0631 1156,668.5331 1156,693.4531 C1156,693.4531 1156,693.4531 1156,1361.4531 C1156,1398.1831 1121.61,1423.6731 1089.96,1439.3531 " fill="none" id="s-to-e" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1085.32,1441.5931,1095.164,1441.2843,1089.8231,1439.4202,1091.6873,1434.0793,1085.32,1441.5931" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[045ac208ce3b5b3d224befd3f4c5c570]
link u to e--><path codeLine="64" d="M1026.96,923.7131 C1006.29,961.6031 961.8,1047.6431 939,1125.4531 C923.08,1179.8031 920,1194.8231 920,1251.4531 C920,1251.4531 920,1251.4531 920,1361.4531 C920,1398.1831 954.39,1423.6731 986.04,1439.3531 " fill="none" id="u-to-e" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="990.68,1441.5931,984.3127,1434.0793,986.1769,1439.4202,980.836,1441.2843,990.68,1441.5931" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[10426faf2822c007a77520b7cd00fe82]
link u to ir--><path codeLine="65" d="M1038,923.6931 C1038,971.7031 1038,1094.4731 1038,1147.4731 " fill="none" id="u-to-ir" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1038,1152.6831,1042,1143.6831,1038,1147.6831,1034,1143.6831,1038,1152.6831" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[3b1f9e3a281d418c889bfca96d71d676]
link ir to e--><path codeLine="66" d="M1038,1194.0031 C1038,1244.3531 1038,1378.3931 1038,1434.1231 " fill="none" id="ir-to-e" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1038,1439.2631,1042,1430.2631,1038,1434.2631,1034,1430.2631,1038,1439.2631" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4db938e82141146da7a044fb7966322c]
link ri to ir--><path codeLine="67" d="M835.9,940.6031 C852.06,949.1731 868.15,959.1631 882,970.4531 C912.88,995.6331 977.37,1085.1331 1013,1136.1531 " fill="none" id="ri-to-ir" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1018.85,1132.3031,1024.5,1152.7231,1007.35,1140.2831,1018.85,1132.3031" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ef247cbac8668f60d8ea88c662449112]
link ri to id--><path codeLine="68" d="M724.09,940.7231 C692.27,994.1231 633.85,1092.1531 604.24,1141.8431 " fill="none" id="ri-to-id" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="601.64,1146.2131,609.6782,1140.5221,604.1957,1141.9156,602.8022,1136.4331,601.64,1146.2131" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[717df48724e670f5b4538fa9178e9ed6]
link ri to db--><path codeLine="69" d="M746.55,940.5331 C746.78,958.8231 747,981.3131 747,1001.4531 C747,1001.4531 747,1001.4531 747,1361.4531 C747,1397.8831 716.46,1421.0831 681.98,1435.6531 " fill="none" id="ri-to-db" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="677.32,1437.5631,687.1651,1437.8351,681.9434,1435.6594,684.1191,1430.4377,677.32,1437.5631" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="77" x="758.5" y="1138.5176">models only</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="0" x="800.5" y="1154.1855"/><text fill="#000000" font-family="monospace" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="84" x="751.5" y="1169.8535">(also should</text><text fill="#000000" font-family="monospace" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="91" x="748" y="1185.5215">not depend on</text><text fill="#000000" font-family="monospace" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="91" x="748" y="1201.1895">moor-specific</text><text fill="#000000" font-family="monospace" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="779.5" y="1216.8574">code)</text><!--MD5=[3aadb2425ab340d75a2b8369b88c3090]
link ri to e--><path codeLine="70" d="M771.13,940.6331 C810.68,1002.0431 883,1130.8331 883,1251.4531 C883,1251.4531 883,1251.4531 883,1361.4531 C883,1411.1431 940.78,1436.5031 985.79,1448.7131 " fill="none" id="ri-to-e" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="990.65,1450.0031,982.9652,1443.8433,985.8148,1448.73,980.9281,1451.5796,990.65,1450.0031" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[99a72c7b55631d88e329c6e8e8a1d276]
link di to db--><path codeLine="71" d="M440.79,929.9931 C418.03,947.0231 395,971.6231 395,1001.4531 C395,1001.4531 395,1001.4531 395,1361.4531 C395,1408.9631 442.46,1433.3331 490.07,1445.8331 " fill="none" id="di-to-db" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="494.98,1447.0731,487.2399,1440.9829,490.1335,1445.8436,485.2727,1448.7372,494.98,1447.0731" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="56" x="396" y="1170.0176">tables &amp;</text><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="42" x="406.5" y="1185.6855">models</text><!--MD5=[7aa9af87c0b9289b42293f157a53e025]
link di to id--><path codeLine="72" d="M494.87,930.1831 C512.07,975.9031 547.72,1070.6831 568.97,1127.1831 " fill="none" id="di-to-id" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="575.6,1124.9331,576.09,1146.1131,562.5,1129.8531,575.6,1124.9331" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7a510777642ea981a0fd51bcb327fe86]
link id to db--><path codeLine="73" d="M586,1200.4531 C586,1249.7231 586,1357.0731 586,1416.7731 " fill="none" id="id-to-db" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="586,1422.0431,590,1413.0431,586,1417.0431,582,1413.0431,586,1422.0431" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="monospace" font-size="12" lengthAdjust="spacing" textLength="77" x="587" y="1326.5176">models only</text><!--MD5=[02bc40338c3adfdf4b8dbb99de91cf24]
link sl to Features--><path codeLine="75" d="M219.2,315.9531 C241.43,315.9531 263.21,315.9531 280.0775,315.9531 C288.5113,315.9531 295.7169,315.9531 301.1366,315.9531 C301.814,315.9531 302.4636,315.9531 303.0841,315.9531 C303.3944,315.9531 303.6975,315.9531 303.9931,315.9531 " fill="none" id="sl-to-Features" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="303.9931,315.9531,294.9931,311.9531,298.9931,315.9531,294.9931,319.9531,303.9931,315.9531" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[2c271655a0c9ad5e3dece1b2ef732d32]
link Features to Core--><path d="M1218.3625,190.2759 C1218.5402,190.5066 1218.7173,190.7378 1218.8938,190.9695 C1219.5999,191.8964 1220.2959,192.8316 1220.982,193.7746 C1222.3542,195.6607 1223.6869,197.5778 1224.9811,199.5209 C1235.3347,215.0662 1243.2244,232.2794 1249.1788,248.5956 C1252.1559,256.7538 1254.6493,264.6877 1256.7249,272.0768 C1256.9844,273.0004 1257.2373,273.9155 1257.4838,274.8215 C1257.6071,275.2745 1257.7287,275.7252 1257.8488,276.1736 C1257.8788,276.2856 1257.9087,276.3976 1257.9386,276.5094 " fill="none" id="Features-to-Core" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1257.9386,276.5094,1259.4836,266.7825,1256.6498,271.6783,1251.7539,268.8445,1257.9386,276.5094" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#888888" font-family="monospace" font-size="16" lengthAdjust="spacing" textLength="360" x="590.5" y="1783.5391">Copyright (C) 2020, 2021 Cervon Wong</text><!--MD5=[e709f265e30c86ef695a7e1d70a07c47]
@startuml

skinparam wrapWidth 200
skinparam maxMessageSize 100
skinparam defaultFontName Monospaced
skinparam defaultFontSize 16
skinparam arrowFontSize 12
skinparam objectFontStyle bold
skinparam titleFontSize 24
skinparam titleFontStyle bold
skinparam shadowing false

header This diagram is part of a visualisation of the code written for Sona.\n View the project at github.com/cervonwong/sona-flutter.
title Dependencies between layers of the app.\n
footer Copyright (C) 2020, 2021 Cervon Wong

package Features <<Node>> {
	package Presentation <<Cloud>> {
		object "Widgets" as w {
			*See diagram on UI layer dependencies
		}
		object "State Management" as s {
			BLoC, ChangeNotifier...
		}
	}
	
	package Domain <<Cloud>> {
		object "Use Cases" as u
		object "Entities" as e
		object "Repo Interfaces" as ir
	}
	
	package Data <<Cloud>> {
		object "Repo Impls" as ri {
			and Entity<->Model mappers
		}
		object "DAO Impls" AS di {
			also Data Sources
		}
		object "DAO Interfaces" as id {
			also Data Sources
		}
		object "Moor Database" as db {
			Configs, Tables, Models
		}
	}

	note bottom of db
    	Models are part of the database due to the limitations of moor's builders. See <i>https://github.com/ simolus3/moor/issues/490</i>for progress on this :)
    end note
}

object "Service Locator" as sl {
	Injection Container for Dependency Injection
}

package Core <<Node>> {
	note "Constants, utils, shared components, etc." as n1
}

w  ....>  s
w  ....>  e
s  ....>  u
s  ....>  e
u  ....>  e
u  ....>  ir
ir ....>  e
ri ....|> ir
ri ....>  id
ri ....>  db : models only\n\n<i>(also should not depend on moor-specific code)
ri ....>  e
di ....>  db : tables & models
di ....|> id
id ....>  db : models only

sl .> Features : \t
Features .> Core : \t

@enduml

PlantUML version 1.2021.7(Sun May 23 20:40:07 SGT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>