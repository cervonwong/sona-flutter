<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1074px" preserveAspectRatio="none" style="width:1065px;height:1074px;background:#FFFFFF;" version="1.1" viewBox="0 0 1065 1074" width="1065.6px" zoomAndPan="magnify"><defs/><g><text fill="#888888" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="414" x="643.8" y="9.6516">This diagram is part of a visualisation of the code written for Sona.</text><text fill="#888888" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="330" x="727.8" y="22.1859">View the project at github.com/cervonwong/sona-flutter.</text><text fill="#000000" font-family="monospace" font-size="14.4" font-weight="bold" lengthAdjust="spacing" textLength="327.6" x="365.1" y="39.5461">Dependencies between layers of the app.</text><text fill="#000000" font-family="monospace" font-size="14.4" font-weight="bold" lengthAdjust="spacing" textLength="0" x="533.1" y="58.3477"/><!--MD5=[e3bd33a92827c21193f8eb915c8968a3]
cluster Features--><polygon fill="#FFFFFF" points="182.4,96.8719,188.4,90.8719,864,90.8719,864,1049.6719,858,1055.6719,182.4,1055.6719,182.4,96.8719" style="stroke:#000000;stroke-width:0.8999999999999999;"/><line style="stroke:#000000;stroke-width:0.8999999999999999;" x1="858" x2="864" y1="96.8719" y2="90.8719"/><line style="stroke:#000000;stroke-width:0.8999999999999999;" x1="182.4" x2="858" y1="96.8719" y2="96.8719"/><line style="stroke:#000000;stroke-width:0.8999999999999999;" x1="858" x2="858" y1="96.8719" y2="1055.6719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="48" x="496.8" y="108.3234">Features</text><!--MD5=[8fd473fd151a2794da4f2c8684676405]
cluster Presentation--><path d="M541.7889,140.0165 C553.1956,120.6555 565.9036,121.2702 578.857,138.4473 C584.2232,122.4995 596.2642,118.3347 607.915,132.3534 C623.5833,116.2603 634.9921,120.6825 644.7462,138.7332 C656.14,122.817 666.7338,124.1725 678,138.8719 C679.0344,139.2788 679.534,140.108 678.5167,141.0107 C691.7413,147.9616 692.4726,161.9118 681.0431,170.9436 C696.7516,178.667 698.3626,189.0725 684.8343,200.5409 C697.3772,210.5477 696.1144,225.4393 681.7238,232.8533 C697.3164,239.6427 699.5585,251.8881 687.0141,263.5299 C700.0149,274.8056 697.8842,285.5894 682.4931,292.4224 C694.7873,298.3888 697.7727,310.0297 685.2461,318.6058 C698.8186,326.5975 704.1154,342.7118 686.2068,351.6195 C700.378,360.9808 699.9263,372.3123 686.8805,382.2718 C701.2495,393.0186 698.6935,402.4989 684.4328,410.7884 C697.9448,418.181 699.0114,430.056 684.9547,437.9778 C700.7591,447.1545 700.2433,460.9148 684.3418,469.4746 C696.6677,480.2641 696.6068,492.382 681.8308,501.0137 C696.9904,510.7411 694.682,520.8377 681.1912,529.9314 C695.0885,544.541 691.5691,554.3595 673.8,561.5719 C673.973,561.6895 673.9943,561.8064 673.8142,561.9378 C665.86,575.4299 657.3235,578.4991 645.6112,566.0187 C637.1373,584.9908 626.3286,585.0003 612.4335,571.5696 C599.6988,584.5479 588.492,583.6735 579.1254,567.6954 C563.7188,584.9237 543.3732,577.0046 537,557.3719 C537.9381,557.1961 538.3776,557.8109 538.0185,558.6605 C526.8524,549.8624 525.9144,536.3346 540.6513,529.9084 C526.8079,521.8524 528.6058,511.0338 539.5186,501.974 C526.2684,494.8638 525.4194,481.8901 536.8352,472.5317 C522.6314,461.6091 521.9626,449.283 538.6253,440.0622 C521.6245,433.4148 523.6227,417.9924 536.2981,409.1134 C523.5577,400.3258 526.0857,386.7319 538.458,379.7943 C525.4584,371.4805 524.503,359.7121 539.1522,352.0911 C524.8341,341.2126 524.0483,330.0095 538.1294,318.2721 C523.0851,307.2485 525.8551,298.2161 539.8963,288.9448 C525.1689,281.1453 527.7928,270.9081 538.4467,261.7553 C525.7761,251.209 527.8176,239.5004 541.4175,231.5368 C523.9152,223.9065 521.3523,210.7309 537.9552,199.4234 C524.3774,190.7009 524.5828,182.3509 538.4675,174.186 C518.3851,159.5934 521.5281,146.5153 541.2,134.6719 C543.5856,135.8678 544.1738,138.2949 541.7889,140.0165 " fill="#FFFFFF" style="stroke:#000000;stroke-width:0.8999999999999999;"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="72" x="571.5" y="147.3234">Presentation</text><!--MD5=[121a8bf1197281ab89ed693fab589f94]
cluster Domain--><path d="M708.5623,498.3476 C717.2934,483.534 727.7169,486.0411 737.4084,497.2844 C747.6444,482.5819 760.4185,482.0105 771.6422,496.1103 C780.4405,481.0667 792.7713,485.0766 800.5975,497.1485 C811.4202,482.8455 824.1592,484.3008 832.2,500.0719 C834.7206,499.9329 836.3376,501.3724 835.2652,504.0217 C847.5668,512.2412 846.4148,523.1646 835.1947,531.3235 C849.2306,539.9884 850.9156,550.0006 836.8579,560.2792 C847.7267,570.5072 847.52,580.8152 833.0144,587.4545 C845.3458,595.6738 846.0198,605.3432 834.7563,615.0518 C848.4935,621.1472 848.17,630.2324 837.3487,638.9876 C849.5483,648.054 850.2489,659.8832 835.7607,667.4612 C851.1028,675.0827 849.7618,688.839 837.9339,698.3707 C848.629,707.5621 850.9916,715.233 837.0058,723.5133 C849.7365,732.9024 847.2235,745.7056 833.7386,752.0982 C846.2551,760.9143 847.1208,772.7353 833.2514,781.1083 C845.2953,789.1181 847.6198,796.8985 834.5354,806.1945 C850.9182,815.2271 848.3768,826.677 834.9354,836.1084 C847.7898,845.4057 850.0875,855.0065 834.7912,864.1591 C843.661,875.9975 843.3724,885.9742 828,891.8719 C829.5391,892.3086 829.9544,893.1662 828.8638,894.4754 C822.1876,906.1946 811.6837,907.7207 802.4445,897.5718 C793.045,909.5129 780.2719,912.6693 771.9347,896.4221 C761.8124,913.2995 749.297,912.861 738.3617,897.2625 C724.5138,911.7788 706.2611,909.5028 702,887.6719 C705.0301,887.9117 705.66,890.3107 704.1771,892.5604 C687.7881,883.7615 692.803,868.4701 705.979,861.3798 C691.9034,854.6935 692.4561,843.4944 705.1173,835.9038 C691.2631,828.7685 686.0467,816.5366 700.1913,804.946 C688.3247,794.7622 687.7872,785.2914 703.1182,778.0694 C690.1058,770.6282 688.4652,762.2241 699.7602,751.6887 C687.3315,741.5281 686.2467,732.4301 700.811,723.2675 C685.645,717.922 686.0011,705.0325 695.8627,695.2645 C685.3757,685.779 686.9934,675.2908 700.8122,670.7034 C685.6817,664.0417 685.5619,650.7258 697.646,641.1485 C685.2607,630.5894 690.7993,620.6226 703.2251,615.4499 C691.1007,606.6149 687.8342,598.5589 701.4826,588.0828 C686.0027,580.5718 687.5929,568.2324 700.7587,559.9835 C688.5764,549.8731 688.8498,539.0122 703.4843,531.4647 C688.9618,519.3115 689.867,505.6708 706.2,495.8719 C708.3132,495.3782 709.1598,496.2549 708.5623,498.3476 " fill="#FFFFFF" style="stroke:#000000;stroke-width:0.8999999999999999;"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="36" x="749.1" y="508.5234">Domain</text><!--MD5=[f21b1f164e99c6b37934f23ad048ad54]
cluster Data--><path d="M216.2341,490.1183 C225.1852,476.463 239.2873,473.7424 247.9791,490.3899 C257.8812,477.6436 266.8561,476.1266 277.1834,489.922 C285.7156,475.1925 294.0918,473.144 305.4579,487.1318 C315.5916,473.9789 326.6234,471.2903 337.4467,486.35 C347.1423,474.9457 358.1533,473.2432 365.3429,488.9304 C374.8049,474.5941 384.4436,474.5164 394.0508,488.7847 C402.0171,474.393 412.6887,473.8788 421.7849,487.6729 C430.0123,474.2201 443.2102,472.2151 453.0419,485.8197 C462.9496,471.0582 476.2666,474.0722 484.7731,487.4025 C495.0648,472.9559 505.3892,473.674 513,489.8719 C515.6131,488.2643 517.3851,489.9315 517.2655,492.5987 C530.3234,503.6311 528.3733,514.1378 514.9864,523.2007 C528.9491,530.1254 531.5417,540.1025 518.3178,550.3617 C531.952,559.6081 529.3354,569.9414 517.7345,578.6678 C529.1219,588.4786 529.1525,599.9558 516.0539,608.3817 C532.8797,617.4732 530.9482,628.2933 517.4676,638.7937 C533.7207,646.0583 534.1555,661.0606 518.8596,669.7441 C529.2975,678.5705 529.8534,687.1443 517.9262,695.149 C529.4219,704.9393 530.3879,718.6778 514.6843,725.5695 C527.3169,734.2376 530.505,745.782 515.3436,755.0711 C529.0906,762.308 527.1872,774.6641 515.5413,782.0868 C528.2719,792.3552 532.647,803.0469 515.8392,813.5945 C531.1723,820.2344 528.6128,831.7943 518.0268,840.5386 C531.9567,852.1172 532.4709,862.5494 514.9825,870.9868 C526.6604,881.7917 524.3503,896.6824 508.8,902.0719 C509.743,900.7224 511.1242,900.9585 511.8501,902.3165 C506.3518,915.3421 492.6982,919.4889 483.5461,906.2547 C474.7471,919.04 462.6942,916.7741 455.216,904.7466 C447.2356,921.359 435.6012,921.1965 424.0604,908.536 C415.5492,924.699 405.4587,922.3913 394.3488,911.377 C383.9902,924.7629 372.99,927.2096 363.8686,910.1388 C355.8694,925.3409 342.7605,925.2041 334.3473,910.5483 C325.4366,921.6953 310.8083,921.6601 305.1465,906.8881 C296.9161,920.2021 287.0609,921.6537 276.3741,909.6833 C267.2634,924.7749 254.3158,923.2197 246.2592,908.6144 C230.4224,921.8133 217.3982,916.1295 211.2,897.8719 C212.4204,897.5579 213.1208,897.9329 213.009,899.303 C200.2441,892.401 199.0011,879.3306 212.8464,872.2685 C197.8348,864.2064 197.5745,850.2871 213.3288,842.7274 C197.422,834.1384 201.3112,818.4351 214.6351,811.0516 C201.6964,805.0914 199.7781,792.1797 213.2067,784.7855 C197.9206,775.7913 194.8406,765.57 209.7866,753.2926 C198.1738,745.0383 197.3206,731.6265 211.3758,724.8041 C197.2688,716.6471 194.2018,706.6733 208.8716,696.0133 C195.9111,688.4064 197.3023,674.4896 209.1601,667.1307 C196.5899,657.6186 196.4049,642.9065 213.0134,637.1439 C197.965,628.9462 198.7502,615.6724 213.1177,607.5784 C199.7595,599.1317 198.2945,589.9966 210.5007,579.193 C195.6325,568.4871 201.2031,556.6643 214.4237,549.6938 C198.9687,540.3688 199.009,531.8662 213.516,521.5741 C195.1599,510.783 195.8936,494.4761 215.4,485.6719 C217.8249,486.7181 218.3447,488.2213 216.2341,490.1183 " fill="#FFFFFF" style="stroke:#000000;stroke-width:0.8999999999999999;"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="24" x="350.1" y="498.3234">Data</text><!--MD5=[2c2e2644034c00788261e03c85b06837]
cluster Core--><polygon fill="#FFFFFF" points="888,125.6719,894,119.6719,1055.4,119.6719,1055.4,219.8719,1049.4,225.8719,888,225.8719,888,125.6719" style="stroke:#000000;stroke-width:0.8999999999999999;"/><line style="stroke:#000000;stroke-width:0.8999999999999999;" x1="1049.4" x2="1055.4" y1="125.6719" y2="119.6719"/><line style="stroke:#000000;stroke-width:0.8999999999999999;" x1="888" x2="1049.4" y1="125.6719" y2="125.6719"/><line style="stroke:#000000;stroke-width:0.8999999999999999;" x1="1049.4" x2="1049.4" y1="125.6719" y2="225.8719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="24" x="957.3" y="137.1234">Core</text><path d="M273.3,935.0719 L273.3,1041.3469 A0,0 0 0 0 273.3,1041.3469 L429.9,1041.3469 A0,0 0 0 0 429.9,1041.3469 L429.9,941.0719 L423.9,935.0719 L354,935.0719 L351.6,897.5419 L349.2,935.0719 L273.3,935.0719 A0,0 0 0 0 273.3,935.0719 " fill="#FBFB77" style="stroke:#A80036;stroke-width:0.6;"/><path d="M423.9,935.0719 L423.9,941.0719 L429.9,941.0719 L423.9,935.0719 " fill="#FBFB77" style="stroke:#A80036;stroke-width:0.6;"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="108" x="276.9" y="947.7234">Models are part of</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="114" x="276.9" y="960.2578">the database due to</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="108" x="276.9" y="972.7922">the limitations of</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="120" x="276.9" y="985.3266">moor's builders. See</text><text fill="#000000" font-family="monospace" font-size="9.6" font-style="italic" lengthAdjust="spacing" textLength="114" x="276.9" y="997.8609">https://github.com/</text><text fill="#000000" font-family="monospace" font-size="9.6" font-style="italic" lengthAdjust="spacing" textLength="144" x="276.9" y="1010.3953">simolus3/moor/issues/490</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="120" x="276.9" y="1022.9297">for progress on this</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="12" x="276.9" y="1035.4641">:)</text><rect fill="#FEFECE" height="44.8031" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="123.6" x="545.4" y="167.0719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="42" x="586.2" y="177.9234">Widgets</text><line style="stroke:#A80036;stroke-width:0.8999999999999999;" x1="546" x2="668.4" y1="182.0063" y2="182.0063"/><ellipse cx="552" cy="188.6063" fill="#000000" rx="1.8" ry="1.8" style="stroke:#000000;stroke-width:0.6;"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="102" x="557.4" y="194.0578">See diagram on UI</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="108" x="557.4" y="206.5922">layer dependencies</text><rect fill="#FEFECE" height="32.2688" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="68.4" x="552" y="524.3719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="60" x="556.2" y="535.2234">View Model</text><line style="stroke:#A80036;stroke-width:0.8999999999999999;" x1="552.6" x2="619.8" y1="539.3063" y2="539.3063"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="60" x="555.6" y="551.3578">Dumb model</text><rect fill="#FEFECE" height="44.8031" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="109.2" x="564" y="333.2719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="96" x="570.6" y="344.1234">State Management</text><line style="stroke:#A80036;stroke-width:0.8999999999999999;" x1="564.6" x2="672.6" y1="348.2063" y2="348.2063"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="30" x="567.6" y="360.2578">BLoC,</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="102" x="567.6" y="372.7922">ChangeNotifier...</text><rect fill="#FEFECE" height="24.5344" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="62.4" x="706.8" y="528.2719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="54" x="711" y="539.1234">Use Cases</text><line style="stroke:#A80036;stroke-width:0.8999999999999999;" x1="707.4" x2="768.6" y1="543.2063" y2="543.2063"/><rect fill="#FEFECE" height="24.5344" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="56.4" x="728.4" y="862.4719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="48" x="732.6" y="873.3234">Entities</text><line style="stroke:#A80036;stroke-width:0.8999999999999999;" x1="729" x2="784.2" y1="877.4063" y2="877.4063"/><rect fill="#FEFECE" height="24.5344" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="98.4" x="729" y="690.5719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="90" x="733.2" y="701.4234">Repo Interfaces</text><line style="stroke:#A80036;stroke-width:0.8999999999999999;" x1="729.6" x2="826.8" y1="705.5063" y2="705.5063"/><rect fill="#FEFECE" height="44.8031" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="121.2" x="387" y="518.0719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="60" x="417.6" y="528.9234">Repo Impls</text><line style="stroke:#A80036;stroke-width:0.8999999999999999;" x1="387.6" x2="507.6" y1="533.0063" y2="533.0063"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="108" x="390.6" y="545.0578">and Entity&lt;-&gt;Model</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="42" x="390.6" y="557.5922">mappers</text><rect fill="#FEFECE" height="32.2688" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="109.2" x="236.4" y="524.3719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="54" x="264" y="535.2234">DAO Impls</text><line style="stroke:#A80036;stroke-width:0.8999999999999999;" x1="237" x2="345" y1="539.3063" y2="539.3063"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="102" x="240" y="551.3578">also Data Sources</text><rect fill="#FEFECE" height="32.2688" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="109.2" x="297" y="686.6719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="84" x="309.6" y="697.5234">DAO Interfaces</text><line style="stroke:#A80036;stroke-width:0.8999999999999999;" x1="297.6" x2="405.6" y1="701.6062" y2="701.6062"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="102" x="300.6" y="713.6578">also Data Sources</text><rect fill="#FEFECE" height="44.8031" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="109.2" x="297" y="852.2719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="78" x="312.6" y="863.1234">Moor Database</text><line style="stroke:#A80036;stroke-width:0.8999999999999999;" x1="297.6" x2="405.6" y1="867.2063" y2="867.2063"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="96" x="300.6" y="879.2578">Configs, Tables,</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="36" x="300.6" y="891.7922">Models</text><path d="M914.1,167.6719 L914.1,211.275 L1040.7,211.275 L1040.7,173.6719 L1034.7,167.6719 L914.1,167.6719 " fill="#FBFB77" style="stroke:#A80036;stroke-width:0.6;"/><path d="M1034.7,167.6719 L1034.7,173.6719 L1040.7,173.6719 L1034.7,167.6719 " fill="#FBFB77" style="stroke:#A80036;stroke-width:0.6;"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="102" x="917.7" y="180.3234">Constants, utils,</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="108" x="917.7" y="192.8578">shared components,</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="24" x="917.7" y="205.3922">etc.</text><rect fill="#FEFECE" height="57.3375" style="stroke:#A80036;stroke-width:0.8999999999999999;" width="127.2" x="4.2" y="160.7719"/><text fill="#000000" font-family="monospace" font-size="9.6" font-weight="bold" lengthAdjust="spacing" textLength="90" x="22.8" y="171.6234">Service Locator</text><line style="stroke:#A80036;stroke-width:0.8999999999999999;" x1="4.8" x2="130.8" y1="175.7062" y2="175.7062"/><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="114" x="7.8" y="187.7578">Injection Container</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="84" x="7.8" y="200.2922">for Dependency</text><text fill="#000000" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="54" x="7.8" y="212.8266">Injection</text><!--MD5=[d82ef6b2c738c1c7a188aee55dc2c4f7]
link w to s--><path codeLine="63" d="M608.712,212.0839 C610.824,242.6539 614.646,297.9679 616.872,330.1339 " fill="none" id="w-to-s" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="617.082,333.1699,619.1059,327.6179,616.8762,330.1769,614.3172,327.9473,617.082,333.1699" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[fb47466a375b2e92410c7a10634a5baa]
link w to vm--><path codeLine="64" d="M570.444,212.1259 C555.822,223.8259 542.4,239.7739 542.4,258.8719 C542.4,258.8719 542.4,258.8719 542.4,452.6719 C542.4,478.7719 558.234,505.0519 570.864,521.8519 " fill="none" id="w-to-vm" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="572.7,524.2639,571.3339,518.5146,570.8808,521.8784,567.5171,521.4253,572.7,524.2639" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[f7ac959458b02596d8dec769f76e38c2]
link s to u--><path codeLine="65" d="M632.886,378.3379 C657.63,416.3839 707.814,493.5559 728.628,525.5599 " fill="none" id="s-to-u" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="730.314,528.1519,729.3847,522.3161,728.6796,525.6362,725.3596,524.9311,730.314,528.1519" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[fcf18d6011f98154ac9c493f12e89716]
link s to e--><path codeLine="66" d="M673.2,359.3899 C741.336,364.6819 849,378.7639 849,414.8719 C849,414.8719 849,414.8719 849,815.6719 C849,845.3479 814.554,860.5939 787.728,867.9679 " fill="none" id="s-to-e" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="784.824,868.7419,790.6597,869.6716,787.723,867.97,789.4246,865.0332,784.824,868.7419" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[e5a6ecea2da458cda22dfa525cf4058b]
link s to vm--><path codeLine="67" d="M614.724,378.3379 C608.298,414.7399 595.56,486.9499 589.518,521.1559 " fill="none" id="s-to-vm" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="588.99,524.1499,592.2935,519.2502,589.5123,521.1957,587.5669,518.4145,588.99,524.1499" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[045ac208ce3b5b3d224befd3f4c5c570]
link u to e--><path codeLine="68" d="M727.47,553.0099 C718.62,564.2059 707.4,581.9059 707.4,599.6719 C707.4,599.6719 707.4,599.6719 707.4,815.6719 C707.4,834.2839 722.172,850.0639 735.528,860.5279 " fill="none" id="u-to-e" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="738,862.4179,735.1732,857.2285,735.6186,860.5933,732.2539,861.0387,738,862.4179" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[10426faf2822c007a77520b7cd00fe82]
link u to ir--><path codeLine="69" d="M740.958,553.0159 C748.158,581.8819 766.602,655.7839 774.51,687.4759 " fill="none" id="u-to-ir" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="775.242,690.4099,776.2566,684.5883,774.5124,687.5,771.6007,685.7557,775.242,690.4099" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[3b1f9e3a281d418c889bfca96d71d676]
link ir to e--><path codeLine="70" d="M776.718,715.2019 C772.89,745.4119 762.714,825.8359 758.484,859.2739 " fill="none" id="ir-to-e" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="758.094,862.3579,761.1524,857.3016,758.4703,859.3816,756.3903,856.6995,758.094,862.3579" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[4db938e82141146da7a044fb7966322c]
link ri to ir--><path codeLine="71" d="M507.732,563.0959 C515.922,565.9039 524.244,568.6699 532.2,571.1719 C548.028,576.1459 552.888,574.6699 568.2,581.0719 C637.602,610.0819 712.44,657.6499 751.308,683.7259 " fill="none" id="ri-to-ir" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="753.696,680.2759,761.28,690.4819,748.986,687.2299,753.696,680.2759" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[ef247cbac8668f60d8ea88c662449112]
link ri to id--><path codeLine="72" d="M434.454,563.2339 C415.362,595.2739 380.31,654.0919 362.544,683.9059 " fill="none" id="ri-to-id" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="360.984,686.5279,365.8069,683.1133,362.5174,683.9494,361.6813,680.6598,360.984,686.5279" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[717df48724e670f5b4538fa9178e9ed6]
link ri to db--><path codeLine="73" d="M447.93,563.1199 C448.068,574.0939 448.2,587.5879 448.2,599.6719 C448.2,599.6719 448.2,599.6719 448.2,815.6719 C448.2,837.5299 429.876,851.4499 409.188,860.1919 " fill="none" id="ri-to-db" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="406.392,861.3379,412.2991,861.5011,409.166,860.1956,410.4715,857.0626,406.392,861.3379" style="stroke:#A80036;stroke-width:0.6;"/><text fill="#000000" font-family="monospace" font-size="7.2" lengthAdjust="spacing" textLength="46.2" x="455.1" y="681.9105">models only</text><text fill="#000000" font-family="monospace" font-size="7.2" lengthAdjust="spacing" textLength="0" x="480.3" y="691.3113"/><text fill="#000000" font-family="monospace" font-size="7.2" font-style="italic" lengthAdjust="spacing" textLength="50.4" x="450.9" y="700.7121">(also should</text><text fill="#000000" font-family="monospace" font-size="7.2" font-style="italic" lengthAdjust="spacing" textLength="54.6" x="448.8" y="710.1129">not depend on</text><text fill="#000000" font-family="monospace" font-size="7.2" font-style="italic" lengthAdjust="spacing" textLength="54.6" x="448.8" y="719.5137">moor-specific</text><text fill="#000000" font-family="monospace" font-size="7.2" font-style="italic" lengthAdjust="spacing" textLength="21" x="467.7" y="728.9145">code)</text><!--MD5=[3aadb2425ab340d75a2b8369b88c3090]
link ri to e--><path codeLine="74" d="M508.236,560.8339 C535.992,571.7179 562.8,585.8179 562.8,599.6719 C562.8,599.6719 562.8,599.6719 562.8,815.6719 C562.8,849.1759 670.278,865.2199 725.16,871.2319 " fill="none" id="ri-to-e" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="728.214,871.5619,723.098,868.6044,725.2308,871.2447,722.5905,873.3775,728.214,871.5619" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[99a72c7b55631d88e329c6e8e8a1d276]
link di to db--><path codeLine="75" d="M264.474,556.7959 C250.818,567.0139 237,581.7739 237,599.6719 C237,599.6719 237,599.6719 237,815.6719 C237,844.1779 265.476,858.7999 294.042,866.2999 " fill="none" id="di-to-db" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="296.988,867.0439,292.344,863.3897,294.0801,866.3062,291.1636,868.0423,296.988,867.0439" style="stroke:#A80036;stroke-width:0.6;"/><text fill="#000000" font-family="monospace" font-size="7.2" lengthAdjust="spacing" textLength="33.6" x="237.6" y="700.8105">tables &amp;</text><text fill="#000000" font-family="monospace" font-size="7.2" lengthAdjust="spacing" textLength="25.2" x="243.9" y="710.2113">models</text><!--MD5=[7aa9af87c0b9289b42293f157a53e025]
link di to id--><path codeLine="76" d="M296.922,556.9099 C307.242,584.3419 328.632,641.2099 341.382,675.1099 " fill="none" id="di-to-id" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="345.36,673.7599,345.654,686.4679,337.5,676.7119,345.36,673.7599" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[7a510777642ea981a0fd51bcb327fe86]
link id to db--><path codeLine="77" d="M351.6,719.0719 C351.6,748.6339 351.6,813.0439 351.6,848.8639 " fill="none" id="id-to-db" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="351.6,852.0259,354,846.6259,351.6,849.0259,349.2,846.6259,351.6,852.0259" style="stroke:#A80036;stroke-width:0.6;"/><text fill="#000000" font-family="monospace" font-size="7.2" lengthAdjust="spacing" textLength="46.2" x="352.2" y="794.7105">models only</text><!--MD5=[02bc40338c3adfdf4b8dbb99de91cf24]
link sl to Features--><path codeLine="79" d="M131.52,189.5719 C144.858,189.5719 157.926,189.5719 168.0465,189.5719 C173.1068,189.5719 177.4301,189.5719 180.6819,189.5719 C181.0884,189.5719 181.4781,189.5719 181.8505,189.5719 C182.0367,189.5719 182.2185,189.5719 182.3959,189.5719 " fill="none" id="sl-to-Features" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="182.3959,189.5719,176.9959,187.1719,179.3959,189.5719,176.9959,191.9719,182.3959,189.5719" style="stroke:#A80036;stroke-width:0.6;"/><!--MD5=[2c271655a0c9ad5e3dece1b2ef732d32]
link Features to Core--><path d="M864.4263,172.3208 C864.8569,172.5704 865.2832,172.818 865.7054,173.0636 C867.394,174.0459 869.0152,174.9965 870.5656,175.9117 C876.7673,179.5729 881.8369,182.6699 885.5608,184.9844 C886.0263,185.2737 886.4708,185.5508 886.8938,185.8152 C887.1053,185.9475 887.3115,186.0765 887.5122,186.2023 C887.6126,186.2653 887.7116,186.3274 887.8092,186.3887 C887.8581,186.4193 887.9066,186.4498 887.9547,186.48 " fill="none" id="Features-to-Core" style="stroke:#A80036;stroke-width:0.6;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="887.9547,186.48,884.6587,181.5753,885.4143,184.8842,882.1054,185.6398,887.9547,186.48" style="stroke:#A80036;stroke-width:0.6;"/><text fill="#888888" font-family="monospace" font-size="9.6" lengthAdjust="spacing" textLength="216" x="420.9" y="1068.9234">Copyright (C) 2020, 2021 Cervon Wong</text><!--MD5=[1267364b596b942a0549c8379da577df]
@startuml

skinparam wrapWidth 200
skinparam maxMessageSize 100
skinparam defaultFontName Monospaced
skinparam defaultFontSize 16
skinparam arrowFontSize 12
skinparam objectFontStyle bold
skinparam titleFontSize 24
skinparam titleFontStyle bold
skinparam shadowing false

header This diagram is part of a visualisation of the code written for Sona.\n View the project at github.com/cervonwong/sona-flutter.
title Dependencies between layers of the app.\n
footer Copyright (C) 2020, 2021 Cervon Wong

package Features <<Node>> {
	package Presentation <<Cloud>> {
		object "Widgets" as w {
			*See diagram on UI layer dependencies
		}
		object "View Model" as vm {
		    Dumb model
		}
		object "State Management" as s {
			BLoC, ChangeNotifier...
		}
	}
	
	package Domain <<Cloud>> {
		object "Use Cases" as u
		object "Entities" as e
		object "Repo Interfaces" as ir
	}
	
	package Data <<Cloud>> {
		object "Repo Impls" as ri {
			and Entity<->Model mappers
		}
		object "DAO Impls" AS di {
			also Data Sources
		}
		object "DAO Interfaces" as id {
			also Data Sources
		}
		object "Moor Database" as db {
			Configs, Tables, Models
		}
	}

	note bottom of db
    	Models are part of the database due to the limitations of moor's builders. See <i>https://github.com/ simolus3/moor/issues/490</i>for progress on this :)
    end note
}

object "Service Locator" as sl {
	Injection Container for Dependency Injection
}

package Core <<Node>> {
	note "Constants, utils, shared components, etc." as n1
}

w  ....>  s
w  ....>  vm
s  ....>  u
s  ....>  e
s  ....>  vm
u  ....>  e
u  ....>  ir
ir ....>  e
ri ....|> ir
ri ....>  id
ri ....>  db : models only\n\n<i>(also should not depend on moor-specific code)
ri ....>  e
di ....>  db : tables & models
di ....|> id
id ....>  db : models only

sl .> Features : \t
Features .> Core : \t

@enduml

PlantUML version 1.2021.7(Sun May 23 20:40:07 SGT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>